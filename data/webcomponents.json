{
  "version": "1.0",
  "lastSync": "2026-02-24T22:09:32.039Z",
  "commit": "24c808134f46e3a825b8fcdfd2cbe27f74a7be1a",
  "components": [
    {
      "tagName": "joomla-editor-codemirror",
      "className": "CodemirrorEditor",
      "filePath": "plg_editors_codemirror/js/joomla-editor-codemirror.w-c.es6.js",
      "attributes": [],
      "properties": [
        {
          "name": "options"
        },
        {
          "name": "fsCombo"
        }
      ],
      "events": [],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-editor-none",
      "className": "JoomlaEditorNone",
      "filePath": "plg_editors_none/js/joomla-editor-none.w-c.es6.js",
      "attributes": [],
      "properties": [],
      "events": [],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-media",
      "className": "JoomlaFieldMedia",
      "filePath": "system/js/fields/joomla-field-media.w-c.es6.js",
      "attributes": [
        "base-path",
        "root-folder",
        "url",
        "modal-title",
        "modal-width",
        "modal-height",
        "input",
        "button-select",
        "button-clear",
        "preview",
        "preview-width",
        "preview-height"
      ],
      "properties": [
        {
          "name": "types"
        },
        {
          "name": "basePath"
        },
        {
          "name": "url"
        },
        {
          "name": "input"
        },
        {
          "name": "buttonSelect"
        },
        {
          "name": "buttonClear"
        },
        {
          "name": "modalWidth"
        },
        {
          "name": "modalHeight"
        },
        {
          "name": "modalTitle"
        },
        {
          "name": "previewWidth"
        },
        {
          "name": "previewHeight"
        },
        {
          "name": "preview"
        },
        {
          "name": "previewContainer"
        }
      ],
      "events": [
        "change"
      ],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-send-test-mail",
      "className": "JoomlaFieldSendTestMail",
      "filePath": "system/js/fields/joomla-field-send-test-mail.w-c.es6.js",
      "attributes": [],
      "properties": [],
      "events": [],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-simple-color",
      "className": "JoomlaFieldSimpleColor",
      "filePath": "system/js/fields/joomla-field-simple-color.w-c.es6.js",
      "attributes": [],
      "properties": [
        {
          "name": "value"
        }
      ],
      "events": [],
      "slots": [
        "colors"
      ],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-subform",
      "className": "JoomlaFieldSubform",
      "filePath": "system/js/fields/joomla-field-subform.w-c.es6.js",
      "attributes": [],
      "properties": [
        {
          "name": "buttonAdd"
        },
        {
          "name": "buttonRemove"
        },
        {
          "name": "buttonMove"
        },
        {
          "name": "rowsContainer"
        },
        {
          "name": "repeatableElement"
        },
        {
          "name": "minimum"
        },
        {
          "name": "maximum"
        },
        {
          "name": "name"
        }
      ],
      "events": [
        "subform-row-add",
        "subform-row-remove"
      ],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-user",
      "className": "JoomlaFieldUser",
      "filePath": "system/js/fields/joomla-field-user.w-c.es6.js",
      "attributes": [
        "url",
        "modal",
        "modal-width",
        "modal-height",
        "modal-title",
        "input",
        "input-name",
        "button-select"
      ],
      "properties": [
        {
          "name": "url"
        },
        {
          "name": "modalWidth"
        },
        {
          "name": "modalTitle"
        },
        {
          "name": "modalHeight"
        },
        {
          "name": "inputId"
        },
        {
          "name": "inputNameClass"
        },
        {
          "name": "buttonSelectClass"
        }
      ],
      "events": [
        "change"
      ],
      "slots": [],
      "extendsElement": "HTMLElement"
    },
    {
      "tagName": "joomla-field-mediamore",
      "className": "JoomlaFieldMediaOptions",
      "filePath": "system/js/fields/joomla-media-select.w-c.es6.js",
      "attributes": [],
      "properties": [
        {
          "name": "type"
        },
        {
          "name": "parentId"
        },
        {
          "name": "lazytext"
        },
        {
          "name": "alttext"
        },
        {
          "name": "altchecktext"
        },
        {
          "name": "altcheckdesctext"
        },
        {
          "name": "embedchecktext"
        },
        {
          "name": "embedcheckdesctext"
        },
        {
          "name": "downloadchecktext"
        },
        {
          "name": "downloadcheckdesctext"
        },
        {
          "name": "classestext"
        },
        {
          "name": "figclassestext"
        },
        {
          "name": "figcaptiontext"
        },
        {
          "name": "summarytext"
        },
        {
          "name": "widthtext"
        },
        {
          "name": "heighttext"
        },
        {
          "name": "titletext"
        }
      ],
      "events": [],
      "slots": [],
      "extendsElement": "HTMLElement",
      "docblock": "/**\n * @copyright   (C) 2021 Open Source Matters, Inc. <https://www.joomla.org>\n * @license     GNU General Public License version 2 or later; see LICENSE.txt\n */\nif (!Joomla) {\n  throw new Error('Joomla API is not properly initiated');\n}\n\n/**\n * An object holding all the information of the selected image in media manager\n * eg:\n * {\n *   extension: \"png\"\n *   fileType: \"image/png\"\n *   height: 44\n *   path: \"local-images:/powered_by.png\"\n *   thumb: undefined\n *   width: 294\n * }\n */\nJoomla.selectedMediaFile = {};\n\nconst supportedExtensions = Joomla.getOptions('media-picker', {});\nif (!Object.keys(supportedExtensions).length) {\n  throw new Error('No supported extensions provided');\n}\n\n/**\n * Event Listener that updates the Joomla.selectedMediaFile\n * to the selected file in the media manager\n */\ndocument.addEventListener('onMediaFileSelected', async (e) => {\n  Joomla.selectedMediaFile = e.detail;\n  const currentModal = Joomla.Modal.getCurrent();\n  const container = currentModal.querySelector('.joomla-dialog-body');\n\n  // No extra attributes (lazy, alt) for fields\n  if (!container || container.closest('.joomla-dialog-media-field')) {\n    return;\n  }\n\n  const optionsEl = container.querySelector('joomla-field-mediamore');\n  if (optionsEl) {\n    optionsEl.parentNode.removeChild(optionsEl);\n  }\n\n  const {\n    images, audios, videos, documents,\n  } = supportedExtensions;\n\n  if (Joomla.selectedMediaFile.path && Joomla.selectedMediaFile.type === 'file') {\n    let type;\n    if (images.includes(Joomla.selectedMediaFile.extension.toLowerCase())) {\n      type = 'images';\n    } else if (audios.includes(Joomla.selectedMediaFile.extension.toLowerCase())) {\n      type = 'audios';\n    } else if (videos.includes(Joomla.selectedMediaFile.extension.toLowerCase())) {\n      type = 'videos';\n    } else if (documents.includes(Joomla.selectedMediaFile.extension.toLowerCase())) {\n      type = 'documents';\n    }\n\n    if (type) {\n      container.insertAdjacentHTML('afterbegin', `<joomla-field-mediamore\n  parent-id=\"${currentModal.id}\"\n  type=\"${type}\"\n  summary-label=\"${Joomla.Text._('JFIELD_MEDIA_SUMMARY_LABEL')}\"\n  lazy-label=\"${Joomla.Text._('JFIELD_MEDIA_LAZY_LABEL')}\"\n  alt-label=\"${Joomla.Text._('JFIELD_MEDIA_ALT_LABEL')}\"\n  alt-check-label=\"${Joomla.Text._('JFIELD_MEDIA_ALT_CHECK_LABEL')}\"\n  alt-check-desc-label=\"${Joomla.Text._('JFIELD_MEDIA_ALT_CHECK_DESC_LABEL')}\"\n  classes-label=\"${Joomla.Text._('JFIELD_MEDIA_CLASS_LABEL')}\"\n  figure-classes-label=\"${Joomla.Text._('JFIELD_MEDIA_FIGURE_CLASS_LABEL')}\"\n  figure-caption-label=\"${Joomla.Text._('JFIELD_MEDIA_FIGURE_CAPTION_LABEL')}\"\n  embed-check-label=\"${Joomla.Text._('JFIELD_MEDIA_EMBED_CHECK_LABEL')}\"\n  embed-check-desc-label=\"${Joomla.Text._('JFIELD_MEDIA_EMBED_CHECK_DESC_LABEL')}\"\n  download-check-label=\"${Joomla.Text._('JFIELD_MEDIA_DOWNLOAD_CHECK_LABEL')}\"\n  download-check-desc-label=\"${Joomla.Text._('JFIELD_MEDIA_DOWNLOAD_CHECK_DESC_LABEL')}\"\n  title-label=\"${Joomla.Text._('JFIELD_MEDIA_TITLE_LABEL')}\"\n  width-label=\"${Joomla.Text._('JFIELD_MEDIA_WIDTH_LABEL')}\"\n  height-label=\"${Joomla.Text._('JFIELD_MEDIA_HEIGHT_LABEL')}\"\n></joomla-field-mediamore>\n`);\n    }\n  }\n});\n\n/**\n * Method to check if passed param is HTMLElement\n *\n * @param o {string|HTMLElement}  Element to be checked\n *\n * @returns {boolean}\n */\nconst isElement = (o) => (\n  typeof HTMLElement === 'object' ? o instanceof HTMLElement\n    : o && typeof o === 'object' && o.nodeType === 1 && typeof o.nodeName === 'string'\n);\n\n/**\n * Method to return the image size\n *\n * @param url {string}\n *\n * @returns {bool}\n */\nconst getImageSize = (url) => new Promise((resolve, reject) => {\n  const img = new Image();\n  img.src = url;\n  img.onload = () => {\n    Joomla.selectedMediaFile.width = img.width;\n    Joomla.selectedMediaFile.height = img.height;\n    resolve(true);\n  };\n  img.onerror = () => {\n    reject(false);\n  };\n});\n\nconst insertAsImage = async (media, editor, fieldClass) => {\n  if (media.url) {\n    const { rootFull } = Joomla.getOptions('system.paths');\n    const parts = media.url.split(rootFull);\n    if (parts.length > 1) {\n      Joomla.selectedMediaFile.url = parts[1];\n      if (media.thumb_path) {\n        Joomla.selectedMediaFile.thumb = media.thumb_path;\n      } else {\n        Joomla.selectedMediaFile.thumb = false;\n      }\n    } else if (media.thumb_path) {\n      Joomla.selectedMediaFile.url = media.url;\n      Joomla.selectedMediaFile.thumb = media.thumb_path;\n    }\n  } else {\n    Joomla.selectedMediaFile.url = false;\n  }\n\n  if (Joomla.selectedMediaFile.url) {\n    let attribs;\n    let isLazy = '';\n    let alt = '';\n    let appendAlt = '';\n    let classes = '';\n    let figClasses = '';\n    let figCaption = '';\n    let imageElement = '';\n\n    if (!isElement(editor) || editor.replaceSelection) {\n      const editorInst = editor.replaceSelection ? editor : Joomla.editors.instances[editor];\n      const currentModal = Joomla.Modal.getCurrent();\n      attribs = currentModal.querySelector('joomla-field-mediamore');\n      if (attribs) {\n        if (attribs.getAttribute('alt-check') === 'true') {\n          appendAlt = ' alt=\"\"';\n        }\n        alt = attribs.getAttribute('alt-value') ? ` alt=\"${attribs.getAttribute('alt-value')}\"` : appendAlt;\n        classes = attribs.getAttribute('img-classes') ? ` class=\"${attribs.getAttribute('img-classes')}\"` : '';\n        figClasses = attribs.getAttribute('fig-classes') ? ` class=\"image ${attribs.getAttribute('fig-classes')}\"` : ' class=\"image\"';\n        figCaption = attribs.getAttribute('fig-caption') ? `${attribs.getAttribute('fig-caption')}` : '';\n        if (attribs.getAttribute('is-lazy') === 'true') {\n          isLazy = ` loading=\"lazy\" width=\"${Joomla.selectedMediaFile.width}\" height=\"${Joomla.selectedMediaFile.height}\"`;\n          if (Joomla.selectedMediaFile.width === 0 || Joomla.selectedMediaFile.height === 0) {\n            try {\n              await getImageSize(Joomla.selectedMediaFile.url);\n              isLazy = ` loading=\"lazy\" width=\"${Joomla.selectedMediaFile.width}\" height=\"${Joomla.selectedMediaFile.height}\"`;\n            } catch (err) {\n              isLazy = '';\n            }\n          }\n        }\n      }\n\n      if (figCaption) {\n        imageElement = `<figure${figClasses}><img src=\"${Joomla.selectedMediaFile.url}\"${classes}${isLazy}${alt} data-path=\"${Joomla.selectedMediaFile.path}\"/><figcaption>${figCaption}</figcaption></figure>`;\n      } else {\n        imageElement = `<img src=\"${Joomla.selectedMediaFile.url}\"${classes}${isLazy}${alt} data-path=\"${Joomla.selectedMediaFile.path}\"/>`;\n      }\n\n      if (attribs) {\n        attribs.parentNode.removeChild(attribs);\n      }\n\n      editorInst.replaceSelection(imageElement);\n    } else {\n      if (Joomla.selectedMediaFile.width === 0 || Joomla.selectedMediaFile.height === 0) {\n        try {\n          await getImageSize(Joomla.selectedMediaFile.url);\n        } catch (err) {\n          Joomla.selectedMediaFile.height = 0;\n          Joomla.selectedMediaFile.width = 0;\n        }\n      }\n      fieldClass.markValid();\n      fieldClass.setValue(`${Joomla.selectedMediaFile.url}#joomlaImage://${media.path.replace(':', '')}?width=${Joomla.selectedMediaFile.width}&height=${Joomla.selectedMediaFile.height}`);\n    }\n  }\n};\n\nconst insertAsOther = (media, editor, fieldClass, type) => {\n  if (media.url) {\n    const { rootFull } = Joomla.getOptions('system.paths');\n    const parts = media.url.split(rootFull);\n    if (parts.length > 1) {\n      Joomla.selectedMediaFile.url = parts[1];\n    } else {\n      Joomla.selectedMediaFile.url = media.url;\n    }\n  } else {\n    Joomla.selectedMediaFile.url = false;\n  }\n\n  let attribs;\n  if (Joomla.selectedMediaFile.url) {\n    // Available Only inside an editor\n    if (!isElement(editor) || editor.replaceSelection) {\n      let outputText;\n      const editorInst = editor.replaceSelection ? editor : Joomla.editors.instances[editor];\n      const currentModal = Joomla.Modal.getCurrent();\n      attribs = currentModal.querySelector('joomla-field-mediamore');\n      if (attribs) {\n        const embedable = attribs.getAttribute('embed-it');\n        if (embedable && embedable === 'true') {\n          if (type === 'audios') {\n            outputText = `<audio controls src=\"${Joomla.selectedMediaFile.url}\"></audio>`;\n          }\n          if (type === 'documents') {\n            // @todo use ${Joomla.selectedMediaFile.filetype} in type\n            const title = attribs.getAttribute('title');\n            outputText = `<object type=\"application/${Joomla.selectedMediaFile.extension}\" data=\"${Joomla.selectedMediaFile.url}\" ${title ? `title=\"${title}\"` : ''} width=\"${attribs.getAttribute('width')}\" height=\"${attribs.getAttribute('height')}\">\n  ${Joomla.Text._('JFIELD_MEDIA_UNSUPPORTED').replace('{tag}', `<a download href=\"${Joomla.selectedMediaFile.url}\">`).replace(/{extension}/g, Joomla.selectedMediaFile.extension)}\n</object>`;\n          }\n          if (type === 'videos') {\n            outputText = `<video controls width=\"${attribs.getAttribute('width')}\" height=\"${attribs.getAttribute('height')}\">\n  <source src=\"${Joomla.selectedMediaFile.url}\" type=\"${Joomla.selectedMediaFile.fileType}\">\n</video>`;\n          }\n        } else if (editorInst.getSelection() !== '') {\n          outputText = `<a download href=\"${Joomla.selectedMediaFile.url}\">${editorInst.getSelection()}</a>`;\n        } else {\n          const name = Joomla.selectedMediaFile.url.substr(0, Joomla.selectedMediaFile.url.lastIndexOf('.')).replace(/%20/g, ' ').split('/').pop();\n          outputText = `<a download href=\"${Joomla.selectedMediaFile.url}\">${Joomla.Text._('JFIELD_MEDIA_DOWNLOAD_FILE').replace('{file}', name)}</a>`;\n        }\n      }\n\n      if (attribs) {\n        attribs.parentNode.removeChild(attribs);\n      }\n\n      editorInst.replaceSelection(outputText);\n    } else {\n      fieldClass.markValid();\n      fieldClass.givenType = type;\n      fieldClass.setValue(Joomla.selectedMediaFile.url);\n    }\n  }\n};\n\n/**\n * Method to append the image in an editor or a field\n *\n * @param {{}} resp\n * @param {string|HTMLElement} editor\n * @param {string} fieldClass\n */\nconst execTransform = async (resp, editor, fieldClass) => {\n  if (resp.success === true) {\n    const media = resp.data[0];\n    const {\n      images, audios, videos, documents,\n    } = supportedExtensions;\n\n    if (Joomla.selectedMediaFile.extension && images.includes(media.extension.toLowerCase())) {\n      return insertAsImage(media, editor, fieldClass);\n    }\n\n    if (Joomla.selectedMediaFile.extension && audios.includes(media.extension.toLowerCase())) {\n      return insertAsOther(media, editor, fieldClass, 'audios');\n    }\n\n    if (Joomla.selectedMediaFile.extension && documents.includes(media.extension.toLowerCase())) {\n      return insertAsOther(media, editor, fieldClass, 'documents');\n    }\n\n    if (Joomla.selectedMediaFile.extension && videos.includes(media.extension.toLowerCase())) {\n      return insertAsOther(media, editor, fieldClass, 'videos');\n    }\n  }\n  return '';\n};\n\n/**\n * Method that resolves the real url for the selected media file\n *\n * @param data        {object}         The data for the detail\n * @param editor      {string|object}  The data for the detail\n * @param fieldClass  {HTMLElement}    The fieldClass for the detail\n *\n * @returns {void}\n */\nJoomla.getMedia = (data, editor, fieldClass) => new Promise((resolve, reject) => {\n  if (!data || (typeof data === 'object' && (!data.path || data.path === ''))) {\n    Joomla.selectedMediaFile = {};\n    resolve({\n      resp: {\n        success: false,\n      },\n    });\n    return;\n  }\n\n  // Compile the url\n  const apiUrl = Joomla.getOptions('media-picker-api', {}).apiBaseUrl || 'index.php?option=com_media&format=json';\n  const url = new URL(apiUrl, window.location.origin);\n  url.searchParams.append('task', 'api.files');\n  url.searchParams.append('url', true);\n  url.searchParams.append('path', data.path);\n  url.searchParams.append('mediatypes', '0,1,2,3');\n  url.searchParams.append(Joomla.getOptions('csrf.token'), 1);\n\n  fetch(\n    url,\n    {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    },\n  )\n    .then((response) => response.json())\n    .then(async (response) => resolve(await execTransform(response, editor, fieldClass)))\n    .catch((error) => reject(error));\n});\n\n// For B/C purposes\nJoomla.getImage = Joomla.getMedia;\n\n/**\n * A simple Custom Element for adding alt text and controlling\n * the lazy loading on a selected image\n *\n * Will be rendered only for editor content images\n * Attributes:\n * - parent-id: the id of the parent media field {string}\n * - lazy-label: The text for the checkbox label {string}\n * - alt-label: The text for the alt label {string}\n * - is-lazy: The value for the lazyloading (calculated, defaults to 'true') {string}\n * - alt-value: The value for the alt text (calculated, defaults to '') {string}\n */"
    },
    {
      "tagName": "joomla-core-loader",
      "className": "JoomlaCoreLoader",
      "filePath": "system/js/joomla-core-loader.w-c.es6.js",
      "attributes": [
        "color",
        "size",
        "inline"
      ],
      "properties": [
        {
          "name": "inline"
        },
        {
          "name": "size"
        },
        {
          "name": "color"
        }
      ],
      "events": [],
      "slots": [],
      "extendsElement": "HTMLElement",
      "docblock": "/**\n * Creates a custom element with the default spinner of the Joomla logo\n */"
    },
    {
      "tagName": "joomla-dialog",
      "className": "JoomlaDialog",
      "filePath": "system/js/joomla-dialog.w-c.es6.js",
      "attributes": [],
      "properties": [],
      "events": [
        "joomla-dialog:close",
        "joomla-dialog:load",
        "joomla-dialog:open"
      ],
      "slots": [],
      "extendsElement": "HTMLElement",
      "docblock": "/**\n * @copyright  (C) 2023 Open Source Matters, Inc. <https://www.joomla.org>\n * @license    GNU General Public License version 2 or later; see LICENSE.txt\n */\n\n// Default template for the popup\nconst popupTemplate = `<div class=\"joomla-dialog-container\">\n  <header class=\"joomla-dialog-header\"></header>\n  <section class=\"joomla-dialog-body\"></section>\n  <footer class=\"joomla-dialog-footer\"></footer>\n</div>`;\n\n/**\n * JoomlaDialog class for Joomla Dialog implementation.\n * With use of <joomla-dialog> custom element as dialog holder.\n */"
    }
  ]
}